{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<div class="container row">

    <div class="col-6 mt-3 border-end ">
        <h2>Extractive Summarization Method</h2>
        <form method="POST" action="{% url 'ext' %}">
            {% csrf_token %}
            <div class=" form-group">
                <label for="inputText" class="mt-2">Enter Text:</label>
                {% if input_text %}
                <textarea class="form-control" id="inputText" name="input_text" rows="10"
                    required>{{input_text}}</textarea>
                    
                {% else %}
                <textarea class="form-control" id="inputText" name="input_text" rows="15" required></textarea>
                {% endif %}

            </div>
            <div class=" form-group mt-3">
                <label for="customPercentage">Custom Percentage:</label>
                <input type="number" class="form-control" id="customPercentage" name="custom_percentage" min="1"
                    max="100" required>

                {% if custom_percentage %}
                <input type="number" class="form-control" id="customPercentage" name="custom_percentage"
                    value=custom_percentage min="1" max="100" required>
                {% endif %}

            </div>
            <button type="submit" class="btn btn-primary mt-3">Summarize</button>
        </form>

    </div>
    <div class="mt-3 col-6">
        <!-- Display the summarized text if available -->
        {% if summarized_text %}

        <h2>Summarized Text:</h2>
        <div class="card p-4 shadow-sm">
            <p>{{ summarized_text }}</p>
        </div>
        <div class="mt-3 text-center">
            <div class="btn btn-success">Total {{length}} words</div>
            <div class="btn btn-success">Total {{length_summary}} words</div>
        </div>

        {% else %}
        <h2>Summarized Text:</h2>
        <div class="card p-4 shadow-sm">
            <p>Summarized text will appear here</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}